<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title>数组平均值复习</title>
</head>
<body>
<script type="text/javascript">
    //第一种方法：通过for循环把arguments类数组转化为数组，这样就可以使用sort 排序方法了。
//    function avgFn(){
//        var ary=[];
//        for(var i= 0,len=arguments.length;i<len;i++){
//            ary.push(arguments[i]);
//        }
//        ary.sort(function(a,b){
//            return a-b;
//        })
//        ary.pop();
//        ary.shift();
//        return eval(ary.join("+"))/ary.length.toFixed(2);
//    }
//    console.log(avgFn(1,10,9.8,9.7,9.9));

    //以上方法核心就是把类数组克隆一模一样的，所以可借用slice方法，但是slice方法也是数组的方法，所以就需要在数组原型上
    //模拟一个slice方法，然后通过call方法把arguments的值传递进去

//    var ary=[];
//    console.dir(ary);

    //方法二：
//        function avgFn(){
//            Array.prototype.mySlice=function(){
//                var ary=[];
//                for(var i= 0,len=arguments.length;i<len;i++){
//                    ary.push(arguments[i]);
//                }
//                return ary;
//            }
//            var newAry=[].mySlice.call(arguments);
//
//            newAry.sort(function(a,b){
//                return a-b;
//            })
//            newAry.pop();
//            newAry.shift();
//            return (eval(newAry.join("+"))/newAry.length).toFixed(2);
//        }
//        console.log(avgFn(1,10,9.8,9.7,9.9));

    //方法三：也是通过数组原型上的方法，这个方法中的this一般只有类的实例能用，这种方式是直接把方法中的this改为arguments的方法来做
//    function avgFn(){
//        [].sort.call(arguments,function(a,b){//call的第一个形参是改变this的，后面的形参是给方法传递参数的，而function本来也就是sort的参数
//            return a-b;
//        });
//        [].pop.call(arguments);
//        [].shift.call(arguments);
//        return (eval([].join.call(arguments,"+"))/arguments.length).toFixed(2);
//    }
//    console.log(avgFn(1,10,9.8,9.7,9.9));

    //方法四：
//    function avgFn(){//不兼容，是因为 __proto__不兼容IE，IE禁止使用这个属性，
//        arguments.__proto__=Array.prototype
//        arguments.sort(function(a,b){
//            return a-b;
//        })
//        arguments.pop();
//        arguments.shift();
//        return eval( arguments.join("+"))/ arguments.length.toFixed(2);
//    }
//    console.log(avgFn(1,10,9.8,9.7,9.9));


//    var ary=[1,10,9.8,9.9,9.7]
//   var res= ary.sort(function(a,b){
//        return a-b;
//    })
//    console.log(res);
//    res.pop();
//    res.shift();
//    console.log(res.join("+"));
//    console.log(res.length);
//    console.log(eval(res.join("+")));
//    console.dir(eval(res.join("+"))/res.length.toFixed(2))
</script>
</body>
</html>